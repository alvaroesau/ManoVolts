<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario de Contacto</title>
  <style>
    .field {
      margin-bottom: 10px;
    }

    .field label {
      display: block;
      font-size: 12px;
      color: #777;
    }

    .field input,
    .field textarea {
      display: block;
      min-width: 250px;
      line-height: 1.5;
      font-size: 14px;
      padding: 6px;
    }

    textarea {
      resize: vertical;
      min-height: 80px;
    }

    button {
      padding: 8px 30px;
      font-size: 14px;
      background-color: #4460AA;
      color: #fff;
      border: none;
      cursor: pointer;
    }

    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  </style>
</head>
<body>

<form id="contactForm">
   <div class="field">
    <H2>FORMULARIO DE CONTACTO</H2>
  </div>

  <div class="field">
    <label>Nombre</label>
    <input type="text" name="name" required>
  </div>

  <div class="field">
    <label>Correo</label>
    <input type="email" name="email" required>
  </div>

  <div class="field">
    <label>Mensaje</label>
    <textarea name="message" required></textarea>
  </div>

  <!-- Campos ocultos que usa EmailJS -->
  <input type="hidden" name="title" value="Nuevo mensaje desde la web">
  <input type="hidden" name="time">

  <button type="submit" id="button">Enviar</button>
</form>

<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

<script>
  // Inicializar EmailJS
  emailjs.init('0PLfR-KE2ltraudma');

  const form = document.getElementById('contactForm');
  const button = document.getElementById('button');

  form.addEventListener('submit', function(event) {
    event.preventDefault();

    // Asignar fecha y hora automáticamente
    form.time.value = new Date().toLocaleString();

    button.disabled = true;
    button.textContent = 'Enviando...';

    emailjs.sendForm('default_service', 'template_4yfqrmy', form)
      .then(() => {
        alert('Mensaje enviado correctamente ✅');
        form.reset();
      })
      .catch((error) => {
        console.error('EmailJS Error:', error);
        alert('Error al enviar el mensaje ❌');
      })
      .finally(() => {
        button.disabled = false;
        button.textContent = 'Enviar';
      });
  });
</script>

</body>
</html>
